{% extends "Tracker/base.html" %}

{% block title %} Sprint Screen{% endblock %}

{% block content %}
		<h1>Sprint View</h1>
		<form action="{% url 'edit_sprint' sprint.id member.id %}" method="post">
		    {% csrf_token %}
			<table>
				<tr>
					<td hidden> {{form.project}}</td>
				</tr>
				<tr>
					<th>Name :</th>
					<td>{{form.sname}}</td>
				</tr>
				<tr>
					<th>Start Date :</th>
					<td>  {{form.start_date}}</td>
				</tr>
				<tr>
					<th>End Date : </th>
					<td> {{form.end_date}}</td>
				</tr>
				<tr>
					<th>Status : </th>
					<td>{{st}}</td>
				</tr>
			</table>
		    <input type="submit" value="Submit" />
		</form>
		<h2>Sprint Tasks:</h2>
		<table class="taskpool">
			<tr>
				<th>Task Name</th>
				<th>Task State</th>
				<th>Task Assignee</th>
				<th>Task Points</th>
			</tr>
			
			{% for task in sprint.task_set.all %}
    			<tr>
    			<td><a href= "{% url 'edit_task' task.id member.id %}">{{ task.tname }}</a></td>
    			<td>{{ task.get_state_display }}</td>
    			<td>{{ task.assign.fname }}</td>
    			<td>{{ task.tp }}</td>
    			</tr>
    		{% endfor %}	
    	</table>
		<h2>Add task to this sprint</h2>
		<ul>
			{% for task in sprint.project.task_set.all %}
    			<li><a href= "{% url 'edit_task' task.id member.id %}">{{ task.tname }}</a> &nbsp <a href= "{% url 'ts' task.id member.id sprint.id %}">Add</a>&nbsp <a href= "{% url 'tsr' task.id member.id sprint.id %}">Remove</a></li>
			{% endfor %}
    	</ul>
	        <form>
			<button formaction="{% url 'sprintchart' sprint.id %}">Analysis</button>
		</form>
    	<a href="{% url 'delete_sprint' sprint.id member.id %}" >Delete Sprint</a>
    	<br><a href="{% url 'edit_project' sprint.project.id member.id %}" >Back</a>
{% endblock %}
